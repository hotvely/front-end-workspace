<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>정규표현식</title>
</head>
<body>
    
    <h1>정규표현식</h1>
    <h2>1. 정규 표현식과 함께 쓰이는 함수들</h2>
    <div id="area1"></div>
    <script>
        const area1 = document.querySelector('#area1');
        const str1 = "javascript jquery bootstrap";
        const regExp1 = /script/;
        // test 표현식을 제일 많이 쓰긴함 ㅎㅎ;
        area1.innerHTML += `regExp1.test(str1) : ${regExp1.test(str1)}<br>`;
        area1.innerHTML += `regExp1.exec(str1) : ${regExp1.exec(str1)}<br>`;
        area1.innerHTML += `str1.match(regExp1) : ${str1.match(regExp1)}<br>`;
        area1.innerHTML += `str1.search(regExp1) : ${str1.search(regExp1)}<br>`;
        area1.innerHTML += `str1.replace(regExp1, 스크립트) : ${str1.replace(regExp1, '스크립트')}<br>`;
        
        regExp2 = / /;
        area1.innerHTML += `str1.split(regExp1) : ${str1.split(regExp2)}<br>`;

    </script>
    <br><br><br>

    <h2>플래그 문자</h2>
    <div id="area2"></div>
    <script>
        const area2 = document.querySelector('#area2');
        const str2 = "JAvaScript jQuery Ajax";
    
        // replace 함수에서 '$&' 패턴은 만족하는 문자열을 가리킴;;
        area2.innerHTML += `/a/ : ${str2.replace(/a/, '($&)')}<br>`;
        area2.innerHTML += `/a/i : ${str2.replace(/a/i, '($&)')}<br>`;
        area2.innerHTML += `/a/g : ${str2.replace(/a/g, '($&)')}<br>`;
        area2.innerHTML += `/a/ig : ${str2.replace(/a/ig, '($&)')}<br>`;
    </script>
    <br><br><br>    

    <h2>반복 검색</h2>
    <div id="area3"></div>
    <script>
        const area3 = document.querySelector('#area3');
        const str3 = "a aa aaa aaaa";
        area3.innerHTML += `/a{1,2}/g : ${str3.replace(/a{1,2}/g, '($&)')}<br>`;
        area3.innerHTML += `/a{3}/g : ${str3.replace(/a{3}/g, '($&)')}<br>`;
        area3.innerHTML += `/a{2,}/g : ${str3.replace(/a{2,}/g, '($&)')}<br>`;
        area3.innerHTML += `/a+/g : ${str3.replace(/a+/g, '($&)')}<br>`;
        area3.innerHTML += `/a?/g : ${str3.replace(/a?/g, '($&)')}<br>`;
    </script>

    <br><br><br>

    <h2>문자열의 앞, 뒤 구분</h2>
    <div id="area4"></div>
    <script>
        const area4 = document.querySelector('#area4');
        const str4 = "Javascript\nJquery\nTypescript\nAjax"
        area4.innerHTML += `/^j/ig : ${str4.replace(/^j/ig, '($&)')}<br>`;
        area4.innerHTML += `/^j/igm : ${str4.replace(/^j/igm, '($&)')}<br>`;
        area4.innerHTML += `/ipt$/igm : ${str4.replace(/ipt$/igm, '($&)')}<br>`;
    </script>
    
    <br><br><br>

    <h2>OR검색</h2>
    <div id="area5"></div>
    <script>
        const area5 = document.querySelector('#area5');
        let str5 = "Javascript Jquery Ajax"
        area5.innerHTML += `/[aj]/ig : ${str5.replace(/[aj]/ig, '($&)')}<br>`;

        // []내의 '^'는 not의미!
        area5.innerHTML += `/[^aj]/ig : ${str5.replace(/[^aj]/ig, '($&)')}<br>`;

        // []내의 '-'는 범위 지정을 의미 (a-z : a부터 z까지.);
        str5 = '123 Javascript';
        area5.innerHTML += `/[a-z]/g : ${str5.replace(/[a-z]/g, '($&)')}<br>`;

        area5.innerHTML += `/[A-Z]/g : ${str5.replace(/[A-Z]/g, '($&)')}<br>`;

        area5.innerHTML += `/[0-9]/g : ${str5.replace(/[0-9]/g, '($&)')}<br>`;

        area5.innerHTML += `/[0-Z]/g : ${str5.replace(/[0-z]/g, '($&)')}<br>`;
    </script>
    <br><br><br>

    <h2>임의의 문자열 검색</h2>
    <div id="area6"></div>
    <script>
        const area6 = document.querySelector('#area6');
        str6 = '123 Javascript';
        area6.innerHTML += `/..../g : ${str6.replace(/..../g, '($&)')}<br>`;

    </script>


    <h3>추가 메타 문자</h3>
    <div id="area7"></div>
    <script>
        const area7 = document.querySelector('#area7');
        str7 = 'A1 B2 C3 d_4 e:5 ` ffg77--__ \t가\n나\n다';
        area7.innerHTML += `/\\d/g : ${str7.replace(/\d/g, '($&)')}<br>`;       //[0-9]/g
        area7.innerHTML += `/\\D/g : ${str7.replace(/\D/g, '($&)')}<br>`;       //[^0-9]/g
        area7.innerHTML += `/\\w/g : ${str7.replace(/\w/g, '($&)')}<br>`;       //[0-9a-zA-Z_]/g
        area7.innerHTML += `/\\W/g : ${str7.replace(/\W/g, '($&)')}<br>`;       //[^0-9a-zA-Z_]/g
        area7.innerHTML += `/\\s/g : ${str7.replace(/\s/g, '($&)')}<br>`;       //[ \n\t]/g
        area7.innerHTML += `/\\S/g : ${str7.replace(/\S/g, '($&)')}<br>`;       //[^ \n\t]/g
    </script>
    <br><br><br>

    <h2>4. 연습</h2>
    <h3>주민등록번호 확인</h3>
    <div id="area8"><input type="text" placeholder="-를 포함해서 입력하시요." id="pno" name="pno">
        <button>확인</button>
    </div>
    <script>
        const pno = document.querySelector('#pno');
        const check = document.querySelector('button');
        //1
        let regExp = /^......-.......$/g;
        //2
        regExp = /^\d{6}-{1}[1-4]{1}\d{6}$/;
        //3
        // 년도 -> 아무 2자리 
        // 월 -> 앞0 -> 뒤 1~9
        //      앞1 -> 0~2
        // 일 -> 앞0 -> 뒤 1~9
        //      앞 1,2 -> 뒤 0 ~9
        //      앞 3 -> 뒤 0~1
        regExp = /^\d{2}(0[1-9]|1[0-2])(0[1-9]|[[1-2][0-9]]|3[0-1])-{1}[1-4]{1}\d{6}$/;

        check.addEventListener('click', function(){
            if(regExp.test(pno.value))
            {
                alert('정상 입력!');
            }
            else{
                alert('잘못 입력!');
            }
        });


    </script>



</body>
</html>